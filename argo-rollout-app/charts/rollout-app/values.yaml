replicaCount: 3

image:
  repository: nginx  # Replace with your image
  tag: latest
  pullPolicy: IfNotPresent

nameOverride: ""
fullnameOverride: ""

rollout:
  strategy:
    blueGreen:
      activeService: rollout-app-active
      previewService: rollout-app-preview
      autoPromotionEnabled: false
      scaleDownDelaySeconds: 30
      previewReplicaCount: 1
      antiAffinity: 
        preferredDuringSchedulingIgnoredDuringExecution:
          weight: 100

service:
  type: ClusterIP
  port: 80

resources:
  limits:
    cpu: 1
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

nodeSelector: {}
tolerations: []
affinity: {}

backend:
  replicaCount: 1
  image:
    repository: himeshp/lunar-app
    tag: v2
    pullPolicy: Always
  service:
    type: NodePort
    port: 3000
    targetPort: 3000
    nodePort: 30000
  resources:
    limits:
      cpu: 300m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  rollout:
    strategy:
      blueGreen:
        activeService: rollout-backend-active
        previewService: rollout-backend-preview
        autoPromotionEnabled: false
        scaleDownDelaySeconds: 30
        previewReplicaCount: 1

frontend:
  replicaCount: 1
  image:
    repository: himeshp/react-app
    tag: latest
    pullPolicy: Always
  service:
    type: NodePort
    port: 3003
    targetPort: 3003
    nodePort: 30001
  resources:
    limits:
      cpu: 300m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  rollout:
    strategy:
      blueGreen:
        activeService: rollout-frontend-active
        previewService: rollout-frontend-preview
        autoPromotionEnabled: false
        scaleDownDelaySeconds: 30
        previewReplicaCount: 1
